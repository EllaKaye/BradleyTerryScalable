<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate variance-covariance matrix for a btfit object. — vcov.btfit • BradleyTerryScalable</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">BradleyTerryScalable</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EllaKaye/BradleyTerryScalable">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate variance-covariance matrix for a btfit object.</h1>
    </div>

    
    <p><code>vcov</code> method for class "btfit"</p>
    

    <pre class="usage"><span class='co'># S3 method for btfit</span>
<span class='fu'>vcov</span>(<span class='no'>object</span>, <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ref</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object of class "btfit", typically the result <code>ob</code> of <code>ob &lt;- btfit(..)</code>. See <code><a href='btfit.html'>btfit</a></code>.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>A condition for selecting one or more subsets of the components. This can either be a character vector of names of the components (i.e. a subset of <code>names(object$pi)</code>), a single predicate function (that takes a vector of <code>object$pi</code> as its argument), or a logical vector of the same length as the number of components, (i.e. <code>length(object$pi)</code>).</p></td>
    </tr>
    <tr>
      <th>ref</th>
      <td><p>A reference item. Either a string with the item name, 1 or NULL. If NULL, then the coefficients are constrained such that their mean is zero. If an item name is given, the coefficient estimates are shifted so that the coefficient for the ref item is zero. If there is more than one component, the components that do not include the ref item will be treated as if ref = NULL. If ref = 1, then the first item of each component is made the reference item. See Details.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A square numeric matrix, which is a non-full-rank variance-covariance matrix for the estimates in <code>coef(object, subset = subset, ref = ref)</code>; or a list of such matrices if <code>object</code> has more than one component. The rows and columns of the matrix (or matrices) are arranged in the same order as the <code>object$pi</code> vector(s).</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>N.B. this can be slow when there are a large number of items in any component.</strong></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='btfit.html'>btfit</a></code>, <code><a href='coef.btfit.html'>coef.btfit</a></code>, <code><a href='summary.btfit.html'>summary.btfit</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>citations_btdata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btdata.html'>btdata</a></span>(<span class='kw'>BradleyTerryScalable</span><span class='kw'>::</span><span class='no'>citations</span>)
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btfit.html'>btfit</a></span>(<span class='no'>citations_btdata</span>, <span class='fl'>1</span>)
<span class='fu'>vcov</span>(<span class='no'>fit1</span>)</div><div class='output co'>#&gt;               citing
#&gt; cited                 JRSS-B    Biometrika          JASA Comm Statist
#&gt;   JRSS-B        0.0028156619 -1.626555e-04 -3.869486e-04 -0.002266058
#&gt;   Biometrika   -0.0001626555  1.877936e-03 -2.976349e-05 -0.001685517
#&gt;   JASA         -0.0003869486 -2.976349e-05  1.734379e-03 -0.001317667
#&gt;   Comm Statist -0.0022660578 -1.685517e-03 -1.317667e-03  0.005269241</div><div class='input'><span class='no'>toy_df_4col</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='codes_to_counts.html'>codes_to_counts</a></span>(<span class='kw'>BradleyTerryScalable</span><span class='kw'>::</span><span class='no'>toy_data</span>, <span class='fu'>c</span>(<span class='st'>"W1"</span>, <span class='st'>"W2"</span>, <span class='st'>"D"</span>))
<span class='no'>toy_btdata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btdata.html'>btdata</a></span>(<span class='no'>toy_df_4col</span>)
<span class='no'>fit2a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btfit.html'>btfit</a></span>(<span class='no'>toy_btdata</span>, <span class='fl'>1</span>)
<span class='fu'>vcov</span>(<span class='no'>fit2a</span>)</div><div class='output co'>#&gt; $`2`
#&gt;        player2
#&gt; player1        Han        Gal        Fin
#&gt;     Han  0.8299348 -0.1583918 -0.6715430
#&gt;     Gal -0.1583918  0.5891966 -0.4308048
#&gt;     Fin -0.6715430 -0.4308048  1.1023478
#&gt; 
#&gt; $`3`
#&gt;        player2
#&gt; player1         Cyd         Amy        Ben        Dan
#&gt;     Cyd  0.98128004 -0.07839002 -0.5792022 -0.3236878
#&gt;     Amy -0.07839002  0.48866229 -0.2694660 -0.1408063
#&gt;     Ben -0.57920218 -0.26946596  0.8917219 -0.0430538
#&gt;     Dan -0.32368784 -0.14080631 -0.0430538  0.5075479
#&gt; </div><div class='input'><span class='fu'>vcov</span>(<span class='no'>fit2a</span>, <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>length</span>(<span class='no'>x</span>) <span class='kw'>&gt;</span> <span class='fl'>3</span>)</div><div class='output co'>#&gt; $`3`
#&gt;        player2
#&gt; player1         Cyd         Amy        Ben        Dan
#&gt;     Cyd  0.98128004 -0.07839002 -0.5792022 -0.3236878
#&gt;     Amy -0.07839002  0.48866229 -0.2694660 -0.1408063
#&gt;     Ben -0.57920218 -0.26946596  0.8917219 -0.0430538
#&gt;     Dan -0.32368784 -0.14080631 -0.0430538  0.5075479
#&gt; </div><div class='input'><span class='fu'>vcov</span>(<span class='no'>fit2a</span>, <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='st'>"Cyd"</span> <span class='kw'>%in%</span> <span class='fu'>names</span>(<span class='no'>x</span>))</div><div class='output co'>#&gt; $`3`
#&gt;        player2
#&gt; player1         Cyd         Amy        Ben        Dan
#&gt;     Cyd  0.98128004 -0.07839002 -0.5792022 -0.3236878
#&gt;     Amy -0.07839002  0.48866229 -0.2694660 -0.1408063
#&gt;     Ben -0.57920218 -0.26946596  0.8917219 -0.0430538
#&gt;     Dan -0.32368784 -0.14080631 -0.0430538  0.5075479
#&gt; </div><div class='input'><span class='no'>fit2b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btfit.html'>btfit</a></span>(<span class='no'>toy_btdata</span>, <span class='fl'>1.1</span>)
<span class='fu'>vcov</span>(<span class='no'>fit2b</span>, <span class='kw'>ref</span> <span class='kw'>=</span> <span class='st'>"Cyd"</span>)</div><div class='output co'>#&gt;        player2
#&gt; player1      Eve Cyd       Han      Amy       Gal      Ben      Dan       Fin
#&gt;     Eve 8.688958   0  8.688958 1.309503  8.688958 2.458541 2.002889  8.688958
#&gt;     Cyd 0.000000   0  0.000000 0.000000  0.000000 0.000000 0.000000  0.000000
#&gt;     Han 8.688958   0 17.644428 1.309503 16.025396 2.458541 2.002889 15.972397
#&gt;     Amy 1.309503   0  1.309503 1.628197  1.309503 1.365954 1.247476  1.309503
#&gt;     Gal 8.688958   0 16.025396 1.309503 16.134179 2.458541 2.002889 15.613713
#&gt;     Ben 2.458541   0  2.458541 1.365954  2.458541 2.995004 1.869082  2.458541
#&gt;     Dan 2.002889   0  2.002889 1.247476  2.002889 1.869082 2.149915  2.002889
#&gt;     Fin 8.688958   0 15.972397 1.309503 15.613713 2.458541 2.002889 17.329810</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
David Firth, Ella Kaye

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ella Kaye, David Firth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
