<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Converts a data frame of paired results into a square matrix. — pairs_to_matrix • BradleyTerryScalable</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">BradleyTerryScalable</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EllaKaye/BradleyTerryScalable">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Converts a data frame of paired results into a square matrix.</h1>
    </div>

    
    <p><code>pairs_to_matrix</code> is a data manipulation function that converts a data frame of paired results (either ordered or unordered) into a square matrix. This is a helper function for <code><a href='btdata.html'>btdata</a></code>.</p>
    

    <pre class="usage"><span class='fu'>pairs_to_matrix</span>(<span class='no'>df</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>A data frame (either a <code><a href='http://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></code> or an object that inherits that class, such as a <code><a href='http://www.rdocumentation.org/packages/dplyr/topics/tbl_df'>tbl_df</a></code> or a <code><a href='http://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a></code>). It must have 3 or 4 columns:</p><dl class='dl-horizontal'>
  <dt>Ordered</dt><dd><p>If a 3-column data-frame, the first column contains the name of the winning player, the second column contains the name of the losing player and the third columns contains the number of times that the winner has beaten the loser. Multiple entries for the same pair of teams are handled correctly.</p></dd>
  <dt>Unordered</dt><dd><p>If a 4-column data-frame, the first column contains the name of Player 1, the second column contains the name of Player 2, the third column contains the number of times that Player 1 has beaten Player 2 and the fourth column contains the number of times Player 2 has beaten Player 1. Multiple entries for the same pair of teams are handled correctly.</p></dd>
</dl><p>In both cases, if there is a repeated pairing in <code>df</code>, <code>pairs_to_matrix</code> aggregates the number of wins, as one would expect.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A \(K\) by \(K\) sparse Matrix, where \(K\) is the number of players. The \(i,j\)-th element of this matrix is the number of times player \(i\) beats player \(j\).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='btdata.html'>btdata</a></code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>winner</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span>, <span class='st'>"E"</span>, <span class='st'>"F"</span>, <span class='st'>"F"</span>)
<span class='no'>loser</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"D"</span>, <span class='st'>"F"</span>, <span class='st'>"D"</span>, <span class='st'>"A"</span>, <span class='st'>"F"</span>, <span class='st'>"F"</span>, <span class='st'>"G"</span>, <span class='st'>"G"</span>, <span class='st'>"A"</span>, <span class='st'>"C"</span>)
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>winner</span> <span class='kw'>=</span> <span class='no'>winner</span>, <span class='kw'>loser</span> <span class='kw'>=</span> <span class='no'>loser</span>, <span class='kw'>num_wins</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>13</span>)
<span class='fu'>pairs_to_matrix</span>(<span class='no'>df</span>)</div><div class='output co'>#&gt; 7 x 7 sparse Matrix of class "dgCMatrix"
#&gt;       loser
#&gt; winner  A B  C D E F  G
#&gt;      A  . 3  3 4 . 5  .
#&gt;      B  7 .  . 6 . 8  .
#&gt;      C  . .  . . . 9 10
#&gt;      D  . .  . . . .  .
#&gt;      E  . .  . . . . 11
#&gt;      F 12 . 13 . . .  .
#&gt;      G  . .  . . . .  .</div><div class='input'>
<span class='no'>df2</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>team1</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"C"</span>),
                  <span class='kw'>team2</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"B"</span>, <span class='st'>"C"</span>, <span class='st'>"C"</span>, <span class='st'>"D"</span>),
                  <span class='kw'>wins1</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>4</span>, <span class='kw'>wins2</span> <span class='kw'>=</span> <span class='fl'>5</span>:<span class='fl'>8</span>)
<span class='fu'>pairs_to_matrix</span>(<span class='no'>df2</span>)</div><div class='output co'>#&gt; 4 x 4 sparse Matrix of class "dgCMatrix"
#&gt;      team2
#&gt; team1 A B C D
#&gt;     A . 1 2 .
#&gt;     B 5 . 3 .
#&gt;     C 6 7 . 4
#&gt;     D . . 8 .</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ella Kaye, David Firth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
