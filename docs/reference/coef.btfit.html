<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract coefficients of a 'btfit' object — coef.btfit • BradleyTerryScalable</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">BradleyTerryScalable</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/BradleyTerryScalable.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EllaKaye/BradleyTerryScalable">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract coefficients of a 'btfit' object</h1>
    </div>

    
    <p><code>coef</code> method for class "btfit"</p>
    

    <pre class="usage"><span class='co'># S3 method for btfit</span>
<span class='fu'>coef</span>(<span class='no'>object</span>, <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ref</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>as_df</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object of class "btfit", typically the result <code>ob</code> of <code>ob &lt;- btfit(..)</code>. See <code><a href='btfit.html'>btfit</a></code>.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>A condition for selecting one or more subsets of the components. This can either be a character vector of names of the components (i.e. a subset of <code>names(object$pi)</code>), a single predicate function (that takes a vector of <code>object$pi</code> as its argument), or a logical vector of the same length as the number of components, (i.e. <code>length(object$pi)</code>).</p></td>
    </tr>
    <tr>
      <th>ref</th>
      <td><p>A reference item. Either a string with the item name, or the number 1, or NULL. If NULL, then the coefficients are constrained such that their mean is zero. If an item name is given, the coefficient estimates are shifted so that the coefficient for the ref item is zero. If there is more than one component, the components that do not include the ref item will be treated as if ref = NULL. If ref = 1, then the first item of each component is made the reference item.</p></td>
    </tr>
    <tr>
      <th>as_df</th>
      <td><p>Logical scalar, determining class of output. If TRUE, the function returns a data frame. If FALSE (the default), the function returns a named vector (or list of such vectors).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If as_df = TRUE, a data frame a numeric vector of estimated coefficients, where the first column is the component the item is in, the second column in the item and the third column in the coefficient. If as_df = FALSE, then a numeric vector is returned if the model is fitted on the full dataset, or else a list of numeric vectors is returned, one for each fully connected component. Within each component, the items are arranged by estimate, in descending order.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that the values given in the <code>estimate</code> column of the <code>item_summary</code> element are NOT the same as the values in <code>object$pi</code>. Rather, they are the \(\lambda_i\), where \(\lambda_i = \log{\pi_i}\). By default, these are normalised so that mean(\(\lambda_i\)) = 0. However, if <code>ref</code> is not equal to <code>NULL</code>, then the \(\lambda_i\) in the component in which <code>ref</code> appears are shifted to \(\lambda_i - \lambda_{ref}\), for \(i = 1, \dots, K_c\), where \(K_c\) is the number of items in the component in which <code>ref</code> appears, and \(\lambda_{ref}\) is the estimate for the reference item.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>citations_btdata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btdata.html'>btdata</a></span>(<span class='kw pkg'>BradleyTerryScalable</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/BradleyTerryScalable/topics/citations'>citations</a></span>)
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btfit.html'>btfit</a></span>(<span class='no'>citations_btdata</span>, <span class='fl'>1</span>)
<span class='fu'>coef</span>(<span class='no'>fit1</span>)</div><div class='output co'>#&gt;       JRSS-B   Biometrika         JASA Comm Statist 
#&gt;    1.0604065    0.7897537    0.3095638   -2.1597241 </div><div class='input'><span class='no'>toy_df_4col</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='codes_to_counts.html'>codes_to_counts</a></span>(<span class='kw pkg'>BradleyTerryScalable</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/BradleyTerryScalable/topics/toy_data'>toy_data</a></span>, <span class='fu'>c</span>(<span class='st'>"W1"</span>, <span class='st'>"W2"</span>, <span class='st'>"D"</span>))
<span class='no'>toy_btdata</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btdata.html'>btdata</a></span>(<span class='no'>toy_df_4col</span>)
<span class='no'>fit2a</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btfit.html'>btfit</a></span>(<span class='no'>toy_btdata</span>, <span class='fl'>1</span>)
<span class='fu'>coef</span>(<span class='no'>fit2a</span>)</div><div class='output co'>#&gt; $`2`
#&gt;        Han        Gal        Fin 
#&gt;  0.6956415  0.4125361 -1.1081777 
#&gt; 
#&gt; $`3`
#&gt;         Cyd         Amy         Ben         Dan 
#&gt;  0.59239992  0.03250119 -0.24307179 -0.38182932 
#&gt; </div><div class='input'><span class='fu'>coef</span>(<span class='no'>fit2a</span>, <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>length</span>(<span class='no'>x</span>) <span class='kw'>&gt;</span> <span class='fl'>3</span>, <span class='kw'>as_df</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; # A tibble: 4 x 3
#&gt;   component  item        coef
#&gt;       &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;
#&gt; 1         3   Cyd  0.59239992
#&gt; 2         3   Amy  0.03250119
#&gt; 3         3   Ben -0.24307179
#&gt; 4         3   Dan -0.38182932</div><div class='input'><span class='fu'>coef</span>(<span class='no'>fit2a</span>, <span class='kw'>subset</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='st'>"Amy"</span> <span class='kw'>%in%</span> <span class='fu'>names</span>(<span class='no'>x</span>))</div><div class='output co'>#&gt; $`3`
#&gt;         Cyd         Amy         Ben         Dan 
#&gt;  0.59239992  0.03250119 -0.24307179 -0.38182932 
#&gt; </div><div class='input'><span class='fu'>coef</span>(<span class='no'>fit2a</span>, <span class='kw'>as_df</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; # A tibble: 7 x 3
#&gt;   component  item        coef
#&gt;       &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;
#&gt; 1         2   Han  0.69564153
#&gt; 2         2   Gal  0.41253614
#&gt; 3         2   Fin -1.10817768
#&gt; 4         3   Cyd  0.59239992
#&gt; 5         3   Amy  0.03250119
#&gt; 6         3   Ben -0.24307179
#&gt; 7         3   Dan -0.38182932</div><div class='input'><span class='no'>fit2b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='btfit.html'>btfit</a></span>(<span class='no'>toy_btdata</span>, <span class='fl'>1.1</span>)
<span class='fu'>coef</span>(<span class='no'>fit2b</span>)</div><div class='output co'>#&gt;         Eve         Cyd         Han         Amy         Gal         Ben 
#&gt;  1.90113420  0.47237293  0.24535391 -0.07655328 -0.10175687 -0.42296697 
#&gt;         Dan         Fin 
#&gt; -0.53638389 -1.48120003 </div><div class='input'><span class='fu'>coef</span>(<span class='no'>fit2b</span>, <span class='kw'>ref</span> <span class='kw'>=</span> <span class='st'>"Cyd"</span>)</div><div class='output co'>#&gt;        Eve        Cyd        Han        Amy        Gal        Ben        Dan 
#&gt;  1.4287613  0.0000000 -0.2270190 -0.5489262 -0.5741298 -0.8953399 -1.0087568 
#&gt;        Fin 
#&gt; -1.9535730 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Ella Kaye

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ella Kaye, David Firth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
